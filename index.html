<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gamerly – Discover New Game Releases</title>

  <meta name="description" content="Discover and safely explore newly released games by platform, genre, and rating. Gamerly filters out explicit content automatically." />
  <meta property="og:title" content="Gamerly – Discover Safe, New Game Releases" />
  <meta property="og:description" content="Explore trending and upcoming games by platform, genre, or rating. Safe, modern, and beautifully designed for gamers." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.gamerly.net/" />
  <link rel="canonical" href="https://www.gamerly.net/" />

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    html{scroll-behavior:smooth}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"SF Pro Display","Segoe UI",sans-serif;
      color:#1d1d1f;background:linear-gradient(180deg,#f0f1f3 0%,#e8eaed 100%);
      -webkit-font-smoothing:antialiased;transition:background .6s,color .6s;
    }
    @media(prefers-color-scheme:dark){
      body{background:linear-gradient(180deg,#111215 0%,#181a1e 100%);color:#e5e5e7}
      .card{background:rgba(40,40,45,.6);border:1px solid rgba(255,255,255,.06)}
      .card-title{color:#fff}.card-meta{color:#aaa}
      .badge{background:rgba(255,255,255,.05);color:#eaeaea}
      .new-tag{background:linear-gradient(135deg,rgba(255,255,255,.2),rgba(255,255,255,.08));color:#fff}
      .filter-bar{background:rgba(25,25,30,.85);border-color:rgba(255,255,255,.05);}
    }

    nav{position:fixed;top:0;left:0;right:0;height:50px;display:flex;align-items:center;justify-content:center;gap:32px;
      font-size:.9rem;background:rgba(255,255,255,.8);backdrop-filter:blur(12px);
      border-bottom:1px solid rgba(0,0,0,.05);z-index:20;opacity:0;transition:opacity .6s ease;}
    nav.visible{opacity:1}
    nav a{color:#333;text-decoration:none;font-weight:500;transition:color .2s ease}
    nav a:hover{color:#000}
    @media(prefers-color-scheme:dark){nav{background:rgba(20,20,25,.85)}nav a{color:#ddd}nav a:hover{color:#fff}}

    header{background:rgba(0,0,0,.9);color:white;text-align:center;padding:3rem 1rem 1.6rem;
      margin-top:50px;box-shadow:0 2px 12px rgba(0,0,0,.15);animation:fadeInDown 1.2s ease both;}
    @keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
    h1{font-weight:800;font-size:2.1rem;display:flex;align-items:center;justify-content:center;gap:10px;}
    .flame{width:22px;height:22px;border-radius:50%;
      background:radial-gradient(circle at 40% 30%,#ffb347 0%,#ff5c33 60%,#ff1f00 100%);
      box-shadow:0 0 15px rgba(255,85,34,.9);animation:flicker 1.8s infinite ease-in-out alternate;}
    @keyframes flicker{0%{transform:scale(1);opacity:1}100%{transform:scale(1.1);opacity:.85}}
    .subtitle{opacity:.75;font-size:1rem;margin-top:.4rem;}

    main{max-width:1200px;margin:0 auto;padding:1.5rem;}
    h2{font-size:1.4rem;font-weight:700;margin-bottom:.4rem;}

    .filter-bar{
      position:sticky;top:50px;z-index:15;
      display:flex;flex-wrap:wrap;gap:10px;margin-top:12px;align-items:center;
      background:rgba(255,255,255,.85);backdrop-filter:blur(10px);
      padding:10px;border:1px solid rgba(0,0,0,.05);border-radius:12px;
      box-shadow:0 2px 10px rgba(0,0,0,.05);
    }
    input,select,button{
      font-family:inherit;border:1px solid #d1d5db;border-radius:8px;background:#fff;color:#111;
      padding:6px 10px;font-size:.9rem;cursor:pointer;
    }
    input[type="text"]{flex:1;min-width:200px;}
    @media(prefers-color-scheme:dark){
      input,select,button{background:#1e1f22;color:#e5e5e7;border:1px solid rgba(255,255,255,.1);}
    }

    #time-filters{display:flex;gap:8px;margin-top:12px;}
    #game-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:22px;margin-top:28px;}

    .card{
      position:relative;background:rgba(255,255,255,.9);border:1px solid rgba(0,0,0,.05);
      border-radius:20px;overflow:hidden;display:flex;flex-direction:column;
      box-shadow:0 4px 16px rgba(0,0,0,.08);transition:transform .4s,box-shadow .4s;
      cursor:pointer;backdrop-filter:blur(10px);opacity:0;transform:translateY(30px);
    }
    .card.visible{opacity:1;transform:translateY(0);transition:all .8s cubic-bezier(.16,1,.3,1);}
    .card:hover{transform:translateY(-6px) scale(1.015);box-shadow:0 12px 35px rgba(0,0,0,.18);}
    .card-img{height:160px;overflow:hidden;position:relative;}
    .card-img img{width:100%;height:100%;object-fit:cover;transition:transform .4s;}
    .card:hover .card-img img{transform:scale(1.05);}
    .placeholder{
      width:100%;height:100%;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,#d4d4d4,#c0c0c0);color:#555;font-size:.9rem;
    }
    @media(prefers-color-scheme:dark){.placeholder{background:linear-gradient(135deg,#2a2a2d,#1f1f22);color:#aaa;}}
    .new-tag{position:absolute;top:10px;right:10px;background:rgba(255,255,255,.95);
      color:#000;font-size:.7rem;font-weight:600;padding:5px 10px;border-radius:999px;
      box-shadow:0 0 10px rgba(255,255,255,.7);}
    .card-body{padding:16px;text-align:center;display:flex;flex-direction:column;align-items:center;}
    .card-title{font-weight:700;font-size:1.1rem;margin-bottom:6px;text-shadow:0 1px 3px rgba(0,0,0,.15);}
    .meta-badge{display:inline-block;padding:3px 6px;border-radius:6px;font-weight:600;font-size:.75rem;margin:4px 0;color:#fff;}
    .meta-badge.green{background:#16a34a}.meta-badge.yellow{background:#facc15;color:#111}.meta-badge.red{background:#dc2626}.meta-badge.gray{background:#9ca3af}
    .card-meta{color:#666;font-size:.9rem;margin-top:2px;}
    .badges{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px;justify-content:center;}
    .badge{font-size:.75rem;color:#111;background:#f3f4f6;border:1px solid #e5e7eb;padding:3px 8px;border-radius:999px;}
    footer{text-align:center;color:#999;font-size:.85rem;margin-top:32px;}
  </style>
</head>

<body>
  <nav>
    <a href="#">Home</a>
    <a href="#">Discover</a>
    <a href="#">Platforms</a>
    <a href="#">About</a>
  </nav>

  <header>
    <h1>Gamerly <span class="flame"></span></h1>
    <span class="subtitle">Discover and filter newly released games</span>
  </header>

  <main>
    <h2>New Today</h2>
    <div class="filter-bar">
      <input type="text" id="search" placeholder="Search by title..." />
      <select id="platform">
        <option value="4">PC</option><option value="1">Xbox</option><option value="18">PlayStation</option>
        <option value="7">Nintendo Switch</option><option value="3">iOS</option><option value="21">Android</option>
      </select>
      <select id="rating">
        <option value="all">All Ratings</option><option value="80">Metacritic 80+</option><option value="60">Metacritic 60+</option>
      </select>
      <select id="genre">
        <option value="all">All Genres</option><option value="action">Action</option><option value="rpg">RPG</option>
        <option value="adventure">Adventure</option><option value="strategy">Strategy</option>
        <option value="shooter">Shooter</option><option value="indie">Indie</option>
      </select>
    </div>

    <div id="time-filters" style="margin-top:15px;">
      <button data-range="today">Today</button>
      <button data-range="week">This Week</button>
      <button data-range="upcoming">Upcoming</button>
    </div>

    <div id="game-list"></div>
  </main>

  <footer>© 2026 Gamerly — Built with ❤️ for gamers.</footer>

  <script>
    const nav=document.querySelector("nav");
    window.addEventListener("scroll",()=>nav.classList.toggle("visible",window.scrollY>60));

    const mockGames={results:[
      {name:"Reanimal",background_image:"https://images.igdb.com/igdb/image/upload/t_cover_big/co7g7k.png",released:"2026-02-12",metacritic:91,genres:["adventure"],platforms:[{platform:{name:"PlayStation 5"}}]},
      {name:"Escape from Ever After",background_image:"https://images.igdb.com/igdb/image/upload/t_cover_big/co6ohp.png",released:"2026-01-22",metacritic:75,genres:["rpg"],platforms:[{platform:{name:"PC"}}]},
      {name:"Star Horizon",background_image:"",released:"2026-01-15",metacritic:55,genres:["shooter"],platforms:[{platform:{name:"Xbox"}}]},
      {name:"Obvious Adult Title",background_image:"https://fakecdn/pornbanner.png",released:"2026-02-01",metacritic:90,genres:["action"],platforms:[{platform:{name:"PC"}}]}
    ]};

    const BAD_WORDS=["porn","sex","nude","xxx","adult","hentai","explicit","ecchi","nsfw","fetish","violence","rape","naked","18+"];
    const $=id=>document.getElementById(id);
    let currentRange="today";

    function isSafe(name,url){
      const lower=(name+url).toLowerCase();
      return !BAD_WORDS.some(w=>lower.includes(w));
    }

    async function fetchGames(){
      try{
        const res=await fetch("/api/games");
        if(!res.ok)throw new Error("offline");
        const data=await res.json();
        return data.results?.length?data:mockGames;
      }catch{return mockGames;}
    }

    function renderGames(data){
      const q=$("search").value.toLowerCase();
      const rating=parseInt($("rating").value)||0;
      const genre=$("genre").value;
      const results=(data.results||[]).filter(g=>{
        if(!isSafe(g.name,g.background_image))return false;
        if(q&&!g.name.toLowerCase().includes(q))return false;
        if(rating!=="all"&&g.metacritic&&g.metacritic<rating)return false;
        if(genre!=="all"&&!(g.genres||[]).some(x=>x.toLowerCase().includes(genre)))return false;
        return true;
      });
      const grid=$("game-list");grid.innerHTML="";
      if(!results.length)return grid.innerHTML="<div style='text-align:center;padding:20px;color:#666;'>No safe results found.</div>";

      results.forEach(g=>{
        const meta=g.metacritic,metaClass=meta>=80?"green":meta>=60?"yellow":meta?"red":"gray",metaLabel=meta||"N/A";
        const diff=(new Date()-new Date(g.released))/(1000*60*60*24),isNew=diff<=7&&diff>=0;
        const plats=(g.platforms||[]).map(p=>`<span class='badge'>${p.platform.name}</span>`).join("");
        const imgSafe=isSafe(g.name,g.background_image)&&g.background_image;
        const card=document.createElement("div");card.className="card";
        card.innerHTML=`
          <div class="card-img">
            ${imgSafe?`<img src="${g.background_image}" alt="${g.name}">`:`<div class='placeholder'>Safe Preview</div>`}
            ${isNew?`<div class='new-tag'>NEW</div>`:""}
          </div>
          <div class="card-body">
            <div class="card-title">${g.name}</div>
            <span class="meta-badge ${metaClass}">${metaLabel}</span>
            <div class="card-meta">Released: ${g.released}</div>
            <div class="badges">${plats}</div>
          </div>`;
        grid.appendChild(card);
      });
      const obs=new IntersectionObserver(e=>e.forEach(x=>{if(x.isIntersecting){x.target.classList.add("visible");obs.unobserve(x.target)}}),{threshold:.1});
      document.querySelectorAll(".card").forEach(c=>obs.observe(c));
    }

    async function loadGames(){const data=await fetchGames();renderGames(data);}
    document.addEventListener("DOMContentLoaded",()=>{
      ["platform","rating","genre","search"].forEach(id=>$(id).oninput=loadGames);
      document.querySelectorAll("#time-filters button").forEach(b=>b.onclick=()=>{currentRange=b.dataset.range;loadGames();});
      loadGames();
    });
  </script>
</body>
</html>
